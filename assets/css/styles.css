/* ========================================================================== 
   GLOBAL THEME + FOUNDATION 
   ========================================================================== */
:root {
  --color-primary: #EB1B21;
  --color-primary-dark: #C3161C;
  --color-white: #ffffff;
  --color-black: #000000;
  --color-gray-50: #f9fafb;
  --color-gray-100: #f3f4f6;
  --color-gray-800: #333333;

  --shadow-xs: 0 2px 6px rgba(0,0,0,0.08);
  --shadow-sm: 0 4px 12px rgba(0,0,0,0.12);
  --shadow-md: 0 6px 18px rgba(0,0,0,0.16);
  --shadow-lg: 0 12px 28px rgba(0,0,0,0.20);

  --radius-sm: 0.375rem;
  --radius-md: 0.5rem;
  --radius-lg: 0.75rem;

  --transition-fast: 0.2s ease;
  --transition-base: 0.3s ease;
  --transition-smooth: 0.45s cubic-bezier(.4,0,.2,1);

  --max-width: 1280px;
}

html {
  font-size: clamp(15px, 1vw + 0.4rem, 18px);
  box-sizing: border-box;
  scroll-behavior: smooth;
}

*, *::before, *::after { box-sizing: inherit; }

body {
  margin: 0;
  font-family: "Roboto", Arial, sans-serif;
  background: var(--color-white);
  color: var(--color-gray-800);
  line-height: 1.65;
  overflow-x: hidden;
}

img { display: block; width: 100%; height: auto; }

:focus-visible {
  outline: 3px solid var(--color-primary);
  outline-offset: 2px;
}

@media (prefers-reduced-motion: reduce) {
  *, *::before, *::after { animation: none !important; transition: none !important; }
}

/* ========================================================================== 
   ANIMATIONS 
   ========================================================================== */
@keyframes zoom-in { 0%{transform:scale(1.15);} 100%{transform:scale(1);} }
.animate-zoom-in { animation: zoom-in 12s ease-out forwards; will-change: transform; }

@keyframes fade-up { 0%{opacity:0; transform:translateY(24px);} 100%{opacity:1; transform:translateY(0);} }
.fade-in { opacity:0; animation: fade-up 0.6s var(--transition-smooth) forwards; }

@keyframes pulse { 0%,100%{opacity:1;} 50%{opacity:0.6;} }
@keyframes bounce { 0%{transform:translateY(0);} 50%{transform:translateY(-6px);} 100%{transform:translateY(0);} }

/* ========================================================================== 
   CHRISTMAS FLASH SALE SECTION
   ========================================================================== */
#current-flyer {
  position: relative;
  overflow: hidden;
  background: linear-gradient(to bottom, var(--color-gray-100), var(--color-white), var(--color-gray-100));
}
#current-flyer h2 { line-height:1; }
#current-flyer h2 span { display:inline-block; }
#current-flyer h2.text-red-600 { color: var(--color-primary); }
#current-flyer h2.text-white { color: var(--color-white); -webkit-text-stroke:3px var(--color-primary); text-shadow:0 0 20px rgba(0,0,0,0.8); }
#current-flyer p { margin:0.5rem 0; }
#current-flyer .animate-pulse { animation: pulse 2s cubic-bezier(0.4,0,0.6,1) infinite; }
#current-flyer img { transition: transform 0.7s ease; }
#current-flyer img:hover { transform: scale(1.05); }

/* ========================================================================== 
   MAP + STORE LOCATIONS 
   ========================================================================== */
.map-container {
  position: relative;
  max-width: var(--max-width);
  margin: 1.75rem auto;
  padding: 0.75rem;
  border-radius: var(--radius-md);
  box-shadow: var(--shadow-sm);
  background: var(--color-white);
  transition: var(--transition-smooth);
}
.map-container:hover { transform: translateY(-4px); box-shadow: var(--shadow-md); }

#store-map {
  width: 100%;
  height: 18rem;
  border-radius: var(--radius-md);
  border: 3px solid var(--color-primary);
  box-shadow: var(--shadow-xs);
  background: #e6f0fa;
}

.leaflet-container { border-radius: var(--radius-sm); background: #e6f0fa; }

/* Custom red Riff-style markers */
.custom-red-marker svg {
  transition: transform 0.25s ease, filter 0.25s ease;
  filter: drop-shadow(0 2px 4px rgba(0,0,0,0.25));
  cursor: pointer;
}
.custom-red-marker svg:hover {
  transform: scale(1.2);
  filter: drop-shadow(0 4px 8px rgba(0,0,0,0.3));
}

.selected-marker svg {
  animation: bounce 0.35s ease-in-out;
}

/* Store info panel */
#store-info {
  max-width: 900px;
  margin: 1.75rem auto;
  padding: 1.75rem;
  background: var(--color-gray-50);
  border-radius: var(--radius-md);
  border: 3px solid var(--color-primary);
  box-shadow: var(--shadow-xs);
  transition: var(--transition-smooth);
  display: none;
}
#store-info h3 { color: var(--color-primary); margin-bottom: 0.85rem; font-size: 1.4rem; font-weight: 800; }
#store-info p { font-size: 1rem; margin-bottom: 0.5rem; color: var(--color-gray-800); }
#store-info a { color: var(--color-primary); font-weight: 600; text-decoration: none; transition: var(--transition-fast); }
#store-info a:hover { color: var(--color-primary-dark); text-decoration: underline; }
#store-info a.google-maps-link {
  display: inline-block;
  margin-top: 1rem;
  padding: 0.65rem 1.25rem;
  border-radius: var(--radius-sm);
  background: var(--color-primary);
  color: var(--color-white);
  font-weight: 700;
  transition: var(--transition-smooth);
}
#store-info a.google-maps-link:hover { background: var(--color-primary-dark); transform: translateY(-2px) scale(1.05); }

/* ========================================================================== 
   BUTTONS 
   ========================================================================== */
.button { display: inline-block; padding: 0.8rem 1.6rem; border-radius: var(--radius-sm); cursor: pointer; font-weight: 700; text-align: center; text-decoration: none; transition: var(--transition-smooth); }
.button-primary { background: var(--color-primary); color: var(--color-white); border: none; box-shadow: var(--shadow-sm); overflow: hidden; }
.button-primary:hover { background: var(--color-primary-dark); transform: translateY(-2px) scale(1.04); box-shadow: var(--shadow-md); }

/* ========================================================================== 
   RESPONSIVE BREAKPOINTS 
   ========================================================================== */
@media (max-width: 768px) {
  .map-container, #store-info { padding: 1.25rem; margin: 1.25rem auto; }
  #store-map { height: 16rem; }
  #store-info h3 { font-size: 1.2rem; }
  #store-info p { font-size: 0.9rem; }
  .button { width: 100%; }
}

@media (max-width: 640px) {
  #store-select { width: 100%; padding: 0.55rem; font-size: 0.95rem; }
}

@media (min-width: 1024px) { #store-map { height: 26rem; } }

@media print {
  #main-content, footer, .map-container { display: none !important; }
  #store-info { border: none; box-shadow: none; }
  body { background: #fff; color: #000; }
}

/* ========================================================================== 
   FLOATING CTA BUTTON
   ========================================================================== */
.floating-cta-wrapper {
  position: fixed;
  bottom: 20px;
  left: 50%;
  transform: translateX(-50%);
  z-index: 9999;
}
.floating-cta {
  display: inline-flex;
  align-items: center;
  justify-content: space-between;
  padding: 1rem 1.5rem;
  border-radius: var(--radius-md);
  background: var(--color-primary);
  color: var(--color-white);
  font-weight: 700;
  font-size: 1rem;
  cursor: pointer;
  box-shadow: var(--shadow-lg);
  border: none;
  transition: var(--transition-smooth);
}
.floating-cta:hover { background: var(--color-primary-dark); transform: translateY(-2px) scale(1.05); }
.floating-cta__close { margin-left: 1rem; font-size: 1.25rem; cursor: pointer; line-height: 1; }
